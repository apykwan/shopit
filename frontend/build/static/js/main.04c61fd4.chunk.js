(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{155:function(e,t,c){},156:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c(2),s=c(19),n=c.n(s),i=c(6),l=c(13),o=c(79),d=c(8),j=c.n(d),u=c(14),b=c(10),m=c(11),p=c(21),O=c(16),h=c.n(O),x=c(27),f=c(80),v="LOGIN_REQUEST",g="LOGIN_SUCCESS",y="LOGIN_FAIL",N="REGISTER_USER_REQUEST",_="REGISTER_USER_SUCCESS",S="REGISTER_USER_FAIL",E="LOAD_USER_REQUEST",w="LOAD_USER_SUCCESS",C="LOAD_USER_FAIL",R="UPDATE_PROFILE_REQUEST",D="UPDATE_PROFILE_SUCCESS",P="UPDATE_PROFILE_RESET",I="UPDATE_PROFILE_FAIL",A="UPDATE_PASSWORD_REQUEST",U="UPDATE_PASSWORD_SUCCESS",T="UPDATE_PASSWORD_RESET",F="UPDATE_PASSWORD_FAIL",k="FORGOT_PASSWORD_REQUEST",L="FORGOT_PASSWORD_SUCCESS",W="FORGOT_PASSWORD_FAIL",Q="NEW_PASSWORD_REQUEST",V="NEW_PASSWORD_SUCCESS",$="NEW_PASSWORD_FAIL",q="ALL_USERS_REQUEST",M="ALL_USERS_SUCCESS",B="ALL_USERS_FAIL",G="USER_DETAILS_REQUEST",H="USER_DETAILS_SUCCESS",J="USER_DETAILS_FAIL",Y="UPDATE_USER_REQUEST",z="UPDATE_USER_SUCCESS",K="UPDATE_USER_RESET",X="UPDATE_USER_FAIL",Z="DELETE_USER_REQUEST",ee="DELETE_USER_SUCCESS",te="DELETE_USER_RESET",ce="DELETE_USER_FAIL",ae="LOGOUT_SUCCESS",re="LOGOUT_FAIL",se="CLEAR_ERRORS",ne=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:E}),e.next=4,h.a.get("/api/v1/me");case 4:c=e.sent,a=c.data,t({type:w,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:C,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ie=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),e.next=4,h.a.get("/api/v1/admin/users");case 4:c=e.sent,a=c.data,t({type:M,payload:a.users}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:B,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},le=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:se});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe=c(1),de=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(p.f)();return Object(oe.jsx)("div",{children:Object(oe.jsx)("form",{onSubmit:function(e){e.preventDefault(),c.trim()?s.push("/search/".concat(c)):s.push("/")},children:Object(oe.jsxs)("div",{className:"input-group",children:[Object(oe.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return a(e.target.value)}}),Object(oe.jsx)("div",{className:"input-group-append",children:Object(oe.jsx)("button",{id:"search_btn",className:"btn",children:Object(oe.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})})},je=function(){var e=Object(l.d)(),t=Object(i.b)(),c=Object(i.c)((function(e){return e.auth})),a=c.user,s=void 0===a?{}:a,n=c.loading,o=Object(i.c)((function(e){return e.cart})).cartItems;s&&(o=o.filter((function(e){return e.userId===s._id})));return Object(oe.jsx)(r.Fragment,{children:Object(oe.jsxs)("nav",{className:"navbar row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-3",children:Object(oe.jsx)("div",{className:"navbar-brand",children:Object(oe.jsx)(m.b,{to:"/",children:Object(oe.jsx)("img",{src:"/images/shopit_logo.png",alt:"shopit_logo"})})})}),Object(oe.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(oe.jsx)(de,{})}),Object(oe.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[s&&Object(oe.jsxs)(m.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(oe.jsx)("span",{id:"cart",className:"ml-3",children:"Cart"}),Object(oe.jsx)("span",{className:"ml-2",id:"cart_count",children:o.length})]}),s?Object(oe.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(oe.jsxs)(m.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(oe.jsx)("figure",{className:"avatar avatar-nav",children:Object(oe.jsx)("img",{src:s.avatar&&s.avatar.url,alt:s&&s.name,className:"rounded-circle"})}),s&&s.name]}),Object(oe.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[s&&"admin"===s.role&&Object(oe.jsx)(m.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(oe.jsx)(m.b,{className:"dropdown-item",to:"/orders/me",children:"Orders"}),Object(oe.jsx)(m.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(oe.jsx)(m.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:E}),e.next=4,h.a.get("/api/v1/logout");case 4:t({type:ae}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:re,payload:e.t0.response.data.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully")},children:"Logout"})]})]}):!n&&Object(oe.jsx)(m.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"})]})]})})},ue=function(){return Object(oe.jsx)(r.Fragment,{children:Object(oe.jsx)("footer",{className:"py-1",children:Object(oe.jsx)("p",{className:"text-center mt-1",children:"Shopping Cart - 2000-2021, All Rights Reserved"})})})},be=c(81),me=c.n(be),pe=c(56),Oe=(c(128),c(84)),he=function(e){var t=e.title;return Object(oe.jsx)(Oe.a,{children:Object(oe.jsx)("title",{children:"".concat(t," - shopIT")})})},xe=function(e){var t=e.product,c=e.col;return Object(oe.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(oe.jsxs)("div",{className:"card p-3 rounded",children:[Object(oe.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:t.name}),Object(oe.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(oe.jsx)("h5",{className:"card-title",children:Object(oe.jsx)(m.b,{to:"/product/".concat(t._id),children:t.name})}),Object(oe.jsxs)("div",{className:"ratings mt-auto",children:[Object(oe.jsx)("div",{className:"rating-outer",children:Object(oe.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object(oe.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(oe.jsxs)("p",{className:"card-text",children:["$",t.price]}),Object(oe.jsx)(m.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},fe=function(){return Object(oe.jsx)("div",{className:"loader"})},ve="ALL_PRODUCTS_REQUEST",ge="ALL_PRODUCTS_SUCCESS",ye="ALL_PRODUCTS_FAIL",Ne="PRODUCT_DETAILS_REQUEST",_e="PRODUCT_DETAILS_SUCCESS",Se="PRODUCT_DETAILS_FAIL",Ee="PRODUCTS_BRIEF_REQUEST",we="PRODUCTS_BRIEF_SUCCESS",Ce="PRODUCTS_BRIEF_FAIL",Re="NEW_PRODUCT_REQUEST",De="NEW_PRODUCT_SUCCESS",Pe="NEW_PRODUCT_RESET",Ie="NEW_PRODUCT_FAIL",Ae="DELETE_PRODUCT_REQUEST",Ue="DELETE_PRODUCT_SUCCESS",Te="DELETE_PRODUCT_RESET",Fe="DELETE_PRODUCT_FAIL",ke="UPDATE_PRODUCT_REQUEST",Le="UPDATE_PRODUCT_SUCCESS",We="UPDATE_PRODUCT_RESET",Qe="UPDATE_PRODUCT_FAIL",Ve="ADMIN_PRODUCTS_REQUEST",$e="ADMIN_PRODUCTS_SUCCESS",qe="ADMIN_PRODUCTS_FAIL",Me="NEW_REVIEW_REQUEST",Be="NEW_REVIEW_SUCCESS",Ge="NEW_REVIEW_RESET",He="NEW_REVIEW_FAIL",Je="GET_REVIEWS_REQUEST",Ye="GET_REVIEWS_SUCCESS",ze="GET_REVIEWS_FAIL",Ke="DELETE_REVIEW_REQUEST",Xe="DELETE_REVIEW_SUCCESS",Ze="DELETE_REVIEW_RESET",et="DELETE_REVIEW_FAIL",tt="CLEAR_ERRORS",ct=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ne}),t.next=4,h.a.get("/api/v1/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:_e,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Se,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},at=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ve}),e.next=4,h.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:$e,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:qe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},rt=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Je}),t.next=4,h.a.get("/api/v1/reviews?id=".concat(e));case 4:a=t.sent,r=a.data,c({type:Ye,payload:r.reviews}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ze,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},st=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:tt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},nt=(0,pe.a.createSliderWithTooltip)(pe.a.Range),it=function(e){var t=e.match,c=Object(l.d)(),a=Object(i.b)(),s=Object(i.c)((function(e){return e.products})),n=s.loading,o=s.products,d=s.error,m=s.productsCount,p=s.resPerPage,O=s.filteredProductsCount,x=Object(r.useState)(1),f=Object(b.a)(x,2),v=f[0],g=f[1],y=Object(r.useState)([1,1e3]),N=Object(b.a)(y,2),_=N[0],S=N[1],E=Object(r.useState)(""),w=Object(b.a)(E,2),C=w[0],R=w[1],D=Object(r.useState)(0),P=Object(b.a)(D,2),I=P[0],A=P[1],U=t.params.keyword;Object(r.useEffect)((function(){if(d)return c.error(d);a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(){var s=Object(u.a)(j.a.mark((function s(n){var i,l,o;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n({type:ve}),i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(r),a&&(i="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a,"&ratings[gte]=").concat(r)),s.next=6,h.a.get(i);case 6:l=s.sent,o=l.data,n({type:ge,payload:o}),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(0),n({type:ye,payload:s.t0.response.data.message});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})));return function(e){return s.apply(this,arguments)}}()}(U,v,_,C,I))}),[a,c,d,U,_,C,v,I]);var T=m;return U&&(T=O),Object(oe.jsx)(r.Fragment,{children:n?Object(oe.jsx)(fe,{}):Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Buy Best Products Online"}),Object(oe.jsx)("h1",{id:"products_heading",children:"For Demostration Purpose..."}),Object(oe.jsx)("section",{id:"products",className:"container mt-5",children:Object(oe.jsx)("div",{className:"row",children:U?Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(oe.jsxs)("div",{className:"px-5",children:[Object(oe.jsx)(nt,{marks:{1:"$1",1e3:"$1000"},min:1,max:1e3,defaultValue:[1,1e3],tipFormatter:function(e){return"$".concat(e)},tipProps:{placement:"top",visible:!0},value:_,onChange:function(e){return S(e)}}),Object(oe.jsx)("hr",{className:"my-5"}),Object(oe.jsxs)("div",{className:"mt-5",children:[Object(oe.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(oe.jsx)("ul",{className:"pl-0",children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(oe.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:R.bind(null,e),children:e},e)}))})]}),Object(oe.jsx)("hr",{className:"my-5"}),Object(oe.jsxs)("div",{className:"mt-5",children:[Object(oe.jsx)("h4",{className:"mb-3",children:"Ratings"}),Object(oe.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((function(e){return Object(oe.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:A.bind(null,e),children:Object(oe.jsx)("div",{className:"rating-outer",children:Object(oe.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)}))})]})]})}),Object(oe.jsx)("div",{className:"col-6 col-md-9",children:Object(oe.jsx)("div",{className:"row",children:o&&o.map((function(e){return Object(oe.jsx)(xe,{product:e,col:4},e._id)}))})})]}):o&&o.map((function(e){return Object(oe.jsx)(xe,{product:e,col:3},e._id)}))})}),p<=T&&Object(oe.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(oe.jsx)(me.a,{activePage:v,itemsCountPerPage:p,totalItemsCount:m,onChange:function(e){g(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},lt=c(163),ot=function(e){var t=e.reviews;return Object(oe.jsxs)(r.Fragment,{class:"reviews w-75",children:[Object(oe.jsx)("h3",{children:"Other's Reviews:"}),Object(oe.jsx)("hr",{}),t&&t.map((function(e){return Object(oe.jsxs)("div",{class:"review-card my-3",children:[Object(oe.jsx)("div",{class:"rating-outer",children:Object(oe.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(oe.jsxs)("p",{class:"review_user",children:["by ",e.name]}),Object(oe.jsx)("p",{class:"review_comment",children:e.comment}),Object(oe.jsx)("hr",{})]},e._id)}))]})},dt="ADD_TO_CART",jt="REMOVE_ITEM_CART",ut="SAVE_SHIPPING_INFO",bt="EMPTY_CART",mt=function(e,t,c){return function(){var a=Object(u.a)(j.a.mark((function a(r,s){var n,i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.get("/api/v1/product/".concat(e));case 2:n=a.sent,i=n.data,r({type:dt,payload:{product:i.product._id,name:i.product.name,price:i.product.price,image:i.product.images[0].url,stock:i.product.stock,quantity:t,userId:c}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},pt=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:bt,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ot=function(e){var t=e.match,c=e.history,a=Object(r.useState)(1),s=Object(b.a)(a,2),n=s[0],o=s[1],d=Object(r.useState)(0),m=Object(b.a)(d,2),p=m[0],O=m[1],x=Object(r.useState)(""),f=Object(b.a)(x,2),v=f[0],g=f[1],y=Object(i.b)(),N=Object(l.d)(),_=Object(i.c)((function(e){return e.productDetails})),S=_.loading,E=_.error,w=_.product,C=Object(i.c)((function(e){return e.auth})).user,R=Object(i.c)((function(e){return e.newReview})),D=R.error,P=R.success;Object(r.useEffect)((function(){y(ct(t.params.id)),E&&(N.error(E),y(st())),D&&(N.error(D),y(st())),P&&(N.success("Reivew posted successfully"),y({type:Ge}))}),[y,N,E,D,t.params.id,P]);return Object(oe.jsx)(r.Fragment,{children:S?Object(oe.jsx)(fe,{}):Object(oe.jsxs)(r.Fragment,{className:"container container-fluid",children:[Object(oe.jsx)(he,{title:w.name}),Object(oe.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(oe.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(oe.jsx)(lt.a,{pause:"hover",children:w.images&&w.images.map((function(e){return Object(oe.jsx)(lt.a.Item,{children:Object(oe.jsx)("img",{className:"d-block w-100",src:e.url,alt:w.title})},e.public_id)}))})}),Object(oe.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(oe.jsx)("h3",{children:w.name}),Object(oe.jsxs)("p",{id:"product_id",children:["Product # ",w._id]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"rating-outer",children:Object(oe.jsx)("div",{className:"rating-inner",style:{width:"".concat(w.ratings/5*100,"%")}})}),Object(oe.jsxs)("span",{id:"no_of_reviews",children:["(",w.numOfReviews," Reviews)"]}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{id:"product_price",children:["$",w.price]}),Object(oe.jsxs)("div",{className:"stockCounter d-inline",children:[Object(oe.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;o(t)}},children:"-"}),Object(oe.jsx)("input",{type:"number",className:"form-control count d-inline",value:n,readOnly:!0}),Object(oe.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=w.stock)){var t=e.valueAsNumber+1;o(t)}},children:"+"})]}),Object(oe.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===w.stock,onClick:function(){y(mt(t.params.id,n,C._id)),c.push("/cart"),N.success("Item Added to Cart")},children:"Add to Cart"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Status: ",Object(oe.jsx)("span",{id:"stock_status",className:w.stock>0?"greenColor":"redColor",children:w.stock>0?"In Stock":"Out of Stock"})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(oe.jsx)("p",{children:w.description}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(oe.jsx)("strong",{children:w.seller})]}),C?Object(oe.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),O(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(oe.jsx)("div",{className:"alert alert-danger mt-5",children:"Login to post your review."}),Object(oe.jsx)("div",{className:"row mt-2 mb-5",children:Object(oe.jsx)("div",{className:"rating w-50",children:Object(oe.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(oe.jsx)("div",{className:"modal-dialog",role:"document",children:Object(oe.jsxs)("div",{className:"modal-content",children:[Object(oe.jsxs)("div",{className:"modal-header",children:[Object(oe.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(oe.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(oe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(oe.jsxs)("div",{className:"modal-body",children:[Object(oe.jsxs)("ul",{className:"stars",children:[Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})}),Object(oe.jsx)("li",{className:"star",children:Object(oe.jsx)("i",{className:"fa fa-star"})})]}),Object(oe.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:v,onChange:function(e){return g(e.target.value)}}),Object(oe.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e,c=new FormData;c.set("rating",p),c.set("comment",v),c.set("productId",t.params.id),y((e=c,function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Me}),a={headers:{"Content-Type":"application/json"}},t.next=5,h.a.put("/api/v1/review",e,a);case 5:r=t.sent,s=r.data,c({type:Be,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:He,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Submit"})]})]})})})})})]})]}),w.reviews&&w.reviews.length>0&&Object(oe.jsx)(ot,{reviews:w.reviews})]})})},ht=c(39),xt=c(90),ft=c(91),vt=c(29),gt="CREATE_ORDER_REQUEST",yt="CREATE_ORDER_SUCCESS",Nt="CREATE_ORDER_FAIL",_t="MY_ORDERS_REQUEST",St="MY_ORDERS_SUCCESS",Et="MY_ORDERS_FAIL",wt="ALL_ORDERS_REQUEST",Ct="ALL_ORDERS_SUCCESS",Rt="ALL_ORDERS_FAIL",Dt="UPDATE_ORDER_REQUEST",Pt="UPDATE_ORDER_SUCCESS",It="UPDATE_ORDER_RESET",At="UPDATE_ORDER_FAIL",Ut="DELETE_ORDER_REQUEST",Tt="DELETE_ORDER_SUCCESS",Ft="DELETE_ORDER_RESET",kt="DELETE_ORDER_FAIL",Lt="ORDER_DETAILS_REQUEST",Wt="ORDER_DETAILS_SUCCESS",Qt="ORDER_DETAILS_FAIL",Vt="CLEAR_ERRORS",$t=Object(ht.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case Ve:return{loading:!0,products:[]};case ge:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case $e:return{loading:!1,products:t.payload};case ye:case qe:return{loading:!1,error:t.payload};case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:case ke:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ue:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Le:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Fe:case Qe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Te:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case We:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case _e:return{loading:!1,product:t.payload};case Se:return{loading:!1,error:t.payload};case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productsBrief:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case we:return{loading:!1,productsBrief:t.payload};case Ce:return{loading:!1,error:t.payload};case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{},loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case De:return{loading:!1,success:t.payload.success,product:t.payload.product};case Ie:return{loading:!1,error:t.payload};case Pe:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ye:return{loading:!1,reviews:t.payload};case ze:return{loading:!1,error:t.payload};case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},review:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Xe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case et:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ze:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case N:case E:return{loading:!0,isAuthenticated:!1};case g:case _:case w:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case ae:return{loading:!1,isAuthenticated:!1,user:null};case C:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case re:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case y:case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case se:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case A:case Y:case Z:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case D:case U:case z:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case ee:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case P:case T:case K:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case te:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case I:case F:case X:case ce:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case se:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case M:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,users:t.payload});case B:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case se:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case H:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload});case J:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case se:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case Q:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case L:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case V:return Object(a.a)(Object(a.a)({},e),{},{success:t.payload});case W:case $:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case se:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(vt.a)(e.cartItems),[c])});case jt:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case ut:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});case bt:var s=e.cartItems.filter((function(e){return e.userId!==t.payload}));return localStorage.setItem("cartItems",JSON.stringify(s)),Object(a.a)(Object(a.a)({},e),{},{cartItems:s});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case yt:return{oading:!1,order:t.payload};case Nt:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return{loading:!0};case St:return{loading:!1,orders:t.payload};case Et:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:return{loading:!0};case Ct:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case Rt:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:return{loading:!0};case Wt:return{loading:!1,order:t.payload};case Qt:return{loading:!1,error:t.payload};case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:case Ut:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Pt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Tt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case At:case kt:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case It:case Ft:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case Vt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Be:return{loading:!1,success:t.payload};case He:return{loading:!1,error:t.payload};case Ge:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),qt={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},Mt=[xt.a],Bt=Object(ht.createStore)($t,qt,Object(ft.composeWithDevTools)(ht.applyMiddleware.apply(void 0,Mt))),Gt=c(98),Ht=["isAdmin","component"],Jt=function(e){var t=e.isAdmin,c=e.component,s=Object(Gt.a)(e,Ht),n=Object(i.c)((function(e){return e.auth})),l=n.isAuthenticated,o=n.loading,d=n.user;return Object(oe.jsx)(r.Fragment,{children:!1===o&&Object(oe.jsx)(p.b,Object(a.a)(Object(a.a)({},s),{},{render:function(e){return!1===l?Object(oe.jsx)(p.a,{to:"/login"}):!0===t&&"admin"!==d.role?Object(oe.jsx)(p.a,{to:"/"}):Object(oe.jsx)(c,Object(a.a)({},e))}}))})},Yt=function(e){var t=e.history,c=Object(i.b)(),a=Object(i.c)((function(e){return e.cart})).cartItems,s=Object(i.c)((function(e){return e.auth})).user,n=void 0===s?{}:s;n&&(a=a.filter((function(e){return e.userId===n._id})));var l=function(e){c(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c,a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:jt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))},o=function(e,t,a){var r=t+1;r>a||c(mt(e,r,n._id))},d=function(e,t){var a=t-1;a<=0||c(mt(e,a,n._id))};return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Your Cart"}),0===a.length?Object(oe.jsx)("h2",{classNameName:"mt-5",children:"Your Cart is Empty"}):Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(oe.jsxs)("b",{children:[a.length," items"]})]}),Object(oe.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(oe.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-3",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"90",width:"115"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-3",children:Object(oe.jsx)(m.b,{to:"/products/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{id:"card_item_price",children:["$",e.price]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(oe.jsxs)("div",{className:"stockCounter d-inline",children:[Object(oe.jsx)("span",{className:"btn btn-danger minus",onClick:d.bind(null,e.product,e.quantity),children:"-"}),Object(oe.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(oe.jsx)("span",{className:"btn btn-primary plus",onClick:o.bind(null,e.product,e.quantity,e.stock),children:"+"})]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(oe.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:l.bind(null,e.product)})})]})},e.product),Object(oe.jsx)("hr",{})]})}))}),Object(oe.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(oe.jsxs)("div",{id:"order_summary",children:[Object(oe.jsx)("h4",{children:"Order Summary"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Subtotal:  ",Object(oe.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0),"(Units)"]})]}),Object(oe.jsxs)("p",{children:["Est. total: ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",a.reduce((function(e,t){return e+Number(t.quantity)*t.price}),0).toFixed(2)]})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},zt=c(92),Kt=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(oe.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(oe.jsxs)(m.b,{to:"shippping",className:"float-right",children:[Object(oe.jsx)("div",{className:"triangle2-active"}),Object(oe.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(oe.jsx)("div",{className:"triangle-active"})]}):Object(oe.jsxs)(m.b,{to:"#!",disabled:!0,children:[Object(oe.jsx)("div",{className:"triangle2-incomplete"}),Object(oe.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(oe.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(oe.jsxs)(m.b,{to:"/order/confirm",className:"float-right",children:[Object(oe.jsx)("div",{className:"triangle2-active"}),Object(oe.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(oe.jsx)("div",{className:"triangle-active"})]}):Object(oe.jsxs)(m.b,{to:"#!",disabled:!0,children:[Object(oe.jsx)("div",{className:"triangle2-incomplete"}),Object(oe.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(oe.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(oe.jsxs)(m.b,{to:"/payment",className:"float-right",children:[Object(oe.jsx)("div",{className:"triangle2-active"}),Object(oe.jsx)("div",{className:"step active-step",children:"Payment"}),Object(oe.jsx)("div",{className:"triangle-active"})]}):Object(oe.jsxs)(m.b,{to:"#!",disabled:!0,children:[Object(oe.jsx)("div",{className:"triangle2-incomplete"}),Object(oe.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(oe.jsx)("div",{className:"triangle-incomplete"})]})]})},Xt=function(e){var t=e.history,c=Object(i.b)(),a=Object(i.c)((function(e){return e.cart})).shippingInfo,s=Object.values(zt.countries),n=Object(r.useState)(a.address),l=Object(b.a)(n,2),o=l[0],d=l[1],m=Object(r.useState)(a.city),p=Object(b.a)(m,2),O=p[0],h=p[1],x=Object(r.useState)(a.postalCode),f=Object(b.a)(x,2),v=f[0],g=f[1],y=Object(r.useState)(a.phoneNo),N=Object(b.a)(y,2),_=N[0],S=N[1],E=Object(r.useState)(a.country),w=Object(b.a)(E,2),C=w[0],R=w[1];return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"shipping"}),Object(oe.jsx)(Kt,{shipping:!0}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var a;e.preventDefault(),c((a={address:o,city:O,postalCode:v,phoneNo:_,country:C},function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ut,payload:a}),localStorage.setItem("shippingInfo",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/confirm")},children:[Object(oe.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(oe.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:o,onChange:function(e){return d(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(oe.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:O,onChange:function(e){return h(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(oe.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:_,onChange:function(e){return S(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(oe.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:v,onChange:function(e){return g(e.target.value)},required:!0})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(oe.jsx)("select",{id:"country_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)},required:!0,children:s.map((function(e){return Object(oe.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(oe.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},Zt=function(e){var t=e.history,c=Object(i.c)((function(e){return e.cart})),a=c.cartItems,s=c.shippingInfo,n=Object(i.c)((function(e){return e.auth})).user;n&&(a=a.filter((function(e){return e.userId===n._id})));var l=a.reduce((function(e,t){return e+t.price*t.quantity}),0),o=l>200?0:25,d=Number((.085*l).toFixed(2)),j=(l+o+d).toFixed(2);return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(he,{title:"Confirm Order"}),Object(oe.jsx)(Kt,{shipping:!0,confirmOrder:!0}),Object(oe.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(oe.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(oe.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Name:"})," ",n&&n.name]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Phone:"})," ",s&&s.phoneNo]}),Object(oe.jsxs)("p",{className:"mb-4",children:[Object(oe.jsx)("b",{children:"Address:"})," ","".concat(s.address,", ").concat(s.city,", ").concat(s.postalCode)]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),a&&a.map((function(e){return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item my-1",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-2",children:Object(oe.jsx)("img",{src:e.image,alt:e.name.replace(/\s/g,"")+e.product,height:"45",width:"65"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-6",children:Object(oe.jsx)(m.b,{to:"/product/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:[e.quantity," x $",e.price," = ",Object(oe.jsxs)("b",{children:["$",(e.quantity*e.price).toFixed(2)]})]})})]})},e.name.replace(/\s/g,"")+e.product),Object(oe.jsx)("hr",{})]})}))]}),Object(oe.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(oe.jsxs)("div",{id:"order_summary",children:[Object(oe.jsx)("h4",{children:"Order Summary"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Subtotal:  ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",l]})]}),Object(oe.jsxs)("p",{children:["Shipping: ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",o]})]}),Object(oe.jsxs)("p",{children:["Tax:  ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",d]})]}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("p",{children:["Total: ",Object(oe.jsxs)("span",{className:"order-summary-values",children:["$",j]})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemsPrice:l.toFixed(2),shippingPrice:o,taxPrice:d,totalPrice:j};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},ec=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:gt}),a={headers:{"Content-Type":"application/json"}},t.next=5,h.a.post("api/v1/order/new",e,a);case 5:r=t.sent,s=r.data,c({type:yt,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Nt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},tc=function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Lt}),t.next=4,h.a.get("/api/v1/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:Wt,payload:r.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Qt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},cc=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:wt}),e.next=4,h.a.get("/api/v1/admin/orders");case 4:c=e.sent,a=c.data,t({type:Ct,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Rt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},ac=function(){return function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Vt});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},rc={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},sc=function(e){var t=e.history,c=Object(l.d)(),a=Object(x.useStripe)(),s=Object(x.useElements)(),n=Object(i.b)(),o=Object(i.c)((function(e){return e.auth})).user,d=Object(i.c)((function(e){return e.cart})),b=d.cartItems,m=d.shippingInfo,p=Object(i.c)((function(e){return e.newOrder})).error;Object(r.useEffect)((function(){p&&(c.error(p),n(ac()))}),[n,c,p]);var O={orderItems:b,shippingInfo:m},f=JSON.parse(sessionStorage.getItem("orderInfo"));f&&(O.itemsPrice=f.itemsPrice,O.shippingPrice=f.shippingPrice,O.taxPrice=f.taxPrice,O.totalPrice=f.totalPrice);var v={amount:Math.round(100*f.totalPrice)},g=function(){var e=Object(u.a)(j.a.mark((function e(r){var i,l,d,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),document.querySelector("#pay_btn").disabled=!0,a&&s){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,l={headers:{"Content-Type":"application/json"}},e.next=8,h.a.post("/api/v1/payment/process",v,l);case 8:return i=e.sent,d=i.data.client_secret,e.next=12,a.confirmCardPayment(d,{payment_method:{card:s.getElement(x.CardNumberElement),billing_details:{name:o.name,email:o.email}}});case 12:(u=e.sent).error?c.error(u.error.message):"succeeded"===u.paymentIntent.status?(O.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},n(ec(O)),n(pt(o._id)),t.push("/success")):c.error("There is some issue while payment processing"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.message);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Payment"}),Object(oe.jsx)(Kt,{shipping:!0,confirmOrder:!0,payment:!0}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:g,children:[Object(oe.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsxs)("label",{htmlFor:"card_num_field",children:["Card Number",Object(oe.jsx)("span",{className:" ml-5 text-muted",style:{fontSize:"14px"},children:"(Test: 4000 0027 6000 3184)"})]}),Object(oe.jsx)(x.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:rc})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(oe.jsx)(x.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:rc})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(oe.jsx)(x.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:rc})]}),Object(oe.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay "," - $".concat(f&&f.totalPrice)]})]})})})]})},nc=function(){return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Order Success"}),Object(oe.jsx)("div",{className:"row justify-content-center",children:Object(oe.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(oe.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object(oe.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(oe.jsx)(m.b,{to:"/order",children:"Go to Orders"})]})})]})},ic=c(26),lc=function(){var e=Object(l.d)(),t=Object(i.b)(),c=Object(i.c)((function(e){return e.myOrders})),a=c.loading,s=c.error,n=c.orders;Object(r.useEffect)((function(){t(function(){var e=Object(u.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_t}),e.next=4,h.a.get("/api/v1/orders/me");case 4:c=e.sent,a=c.data,t({type:St,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Et,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),s&&(e.error(s),t(ac()))}),[t,e,s]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"My Orders"}),Object(oe.jsx)("h1",{className:"mt-5",children:"My Orders"}),a?Object(oe.jsx)(fe,{}):Object(oe.jsx)(ic.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus.includes("Delivered"))?Object(oe.jsx)("p",{style:{color:"green "},children:t.orderStatus}):Object(oe.jsx)("p",{style:{color:"red "},children:t.orderStatus}),actions:Object(oe.jsx)(m.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object(oe.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},oc=function(e){var t=e.match,c=Object(l.d)(),a=Object(i.b)(),s=Object(i.c)((function(e){return e.orderDetails})),n=s.loading,o=s.error,d=s.order,j=void 0===d?{}:d,u=j.shippingInfo,b=j.orderItems,p=j.paymentInfo,O=j.user,h=j.totalPrice,x=j.orderStatus;Object(r.useEffect)((function(){a(tc(t.params.id)),o&&(c.error(o),a(ac()))}),[a,c,o,t.params.id]);var f=u&&"".concat(u.address,", ").concat(u.city,", ").concat(u.postalCode,", ").concat(u.country),v=!(!p||"succeeded"!==p.status),g=j.orderStatus&&String(j.orderStatus.includes("Delivered"));return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Order Details"}),n?Object(oe.jsx)(fe,{}):Object(oe.jsx)(r.Fragment,{children:Object(oe.jsx)("div",{className:"row d-flex justify-content-between",children:Object(oe.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(oe.jsx)("h1",{className:"my-5",children:j._id}),Object(oe.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Name:"})," ",O&&O.name]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Phone:"})," ",u&&u.PhoneNo]}),Object(oe.jsxs)("p",{className:"mb-4",children:[Object(oe.jsx)("b",{children:"Address:"}),f]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Amount:"})," $",h]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"my-4",children:"Payment"}),Object(oe.jsx)("p",{className:v?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:v?"PAID":"UNPAID"})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(oe.jsx)("p",{className:g?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:x})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item my-1",children:b&&b.map((function(e){return Object(oe.jsxs)("div",{className:"row my-5",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-2",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-5",children:Object(oe.jsx)(m.b,{to:"/products/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:["$",e.price]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(oe.jsx)("hr",{})]})})})]})},dc=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(b.a)(a,2),n=s[0],o=s[1],d=Object(r.useState)(""),p=Object(b.a)(d,2),O=p[0],x=p[1],f=Object(l.d)(),N=Object(i.b)(),_=Object(i.c)((function(e){return e.auth})),S=_.isAuthenticated,E=_.error,w=_.loading,C=c.search?c.search.split("=")[1]:"/";Object(r.useEffect)((function(){S&&t.push(C),E&&(f.error(E),N(le()))}),[N,f,S,E,C,t]);return Object(oe.jsx)(r.Fragment,{children:w?Object(oe.jsx)(fe,{}):Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Login"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),O&&n&&N(function(e,t){return function(){var c=Object(u.a)(j.a.mark((function c(a){var r,s,n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:v}),r={headers:{"Content-Type":"application/json"}},c.next=5,h.a.post("/api/v1/login",{email:e,password:t},r);case 5:s=c.sent,n=s.data,a({type:g,payload:n.user}),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),console.log(c.t0),a({type:y,payload:c.t0.response.data.message});case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,O))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Login"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:O,onChange:function(e){return x(e.target.value)}})]}),Object(oe.jsx)(m.b,{to:"/password/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(oe.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(oe.jsx)(m.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},jc=c(41),uc=function(e){var t=e.history,c=Object(r.useState)({name:"",email:"",password:""}),s=Object(b.a)(c,2),n=s[0],o=s[1],d=n.name,m=n.email,p=n.password,O=Object(r.useState)(""),x=Object(b.a)(O,2),f=x[0],v=x[1],g=Object(r.useState)("/images/default_avatar.jpg"),y=Object(b.a)(g,2),E=y[0],w=y[1],C=Object(l.d)(),R=Object(i.b)(),D=Object(i.c)((function(e){return e.auth})),P=D.isAuthenticated,I=D.error,A=D.loading;Object(r.useEffect)((function(){P&&t.push("/"),I&&(C.error(I),R(le()))}),[R,P,I,C,t]);var U=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(w(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}else o(Object(a.a)(Object(a.a)({},n),{},Object(jc.a)({},e.target.name,e.target.value)))};return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Register"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:function(e){if(e.preventDefault(),d&&m&&p){var t,c=new FormData;c.set("name",d),c.set("email",m),c.set("password",p),c.set("avatar",f),R((t=c,function(){var e=Object(u.a)(j.a.mark((function e(c){var a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:N}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,h.a.post("/api/v1/register",t,a);case 5:r=e.sent,s=r.data,c({type:_,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:S,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Register"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(oe.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:d,onChange:U})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:m,onChange:U})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:p,onChange:U})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(oe.jsxs)("div",{className:"d-flex align-items-center",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(oe.jsx)("img",{src:E,className:"rounded-circle",alt:"avatar preview"})})}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:U}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(oe.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!A,children:"REGISTER"})]})})})]})},bc=function(){var e=Object(i.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(oe.jsx)(r.Fragment,{children:c?Object(oe.jsx)(fe,{}):Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Your Profile"}),Object(oe.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(oe.jsxs)("div",{className:"col-12 col-md-3",children:[Object(oe.jsx)("figure",{className:"avatar avatar-profile",children:Object(oe.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(oe.jsx)(m.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(oe.jsxs)("div",{className:"col-12 col-md-5",children:[Object(oe.jsx)("h4",{children:"Full Name"}),Object(oe.jsx)("p",{children:t.name}),Object(oe.jsx)("h4",{children:"Email Address"}),Object(oe.jsx)("p",{children:t.email}),Object(oe.jsx)("h4",{children:"Joined on"}),Object(oe.jsx)("p",{children:String(t.createdAt)}),"admin"!==t.role&&Object(oe.jsx)(m.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(oe.jsx)(m.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})},mc=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(""),d=Object(b.a)(o,2),m=d[0],p=d[1],O=Object(r.useState)(""),x=Object(b.a)(O,2),f=x[0],v=x[1],g=Object(r.useState)("/images/default_avatar.jpg"),y=Object(b.a)(g,2),N=y[0],_=y[1],S=Object(l.d)(),E=Object(i.b)(),w=Object(i.c)((function(e){return e.auth})).user,C=Object(i.c)((function(e){return e.user})),A=C.error,U=C.isUpdated,T=C.loading;Object(r.useEffect)((function(){w&&(n(w.name),p(w.email),_(w.avatar.url)),A&&(S.error(A),E(le())),U&&(S.success("User updated successfully!"),E(ne()),t.push("/me"),E({type:P}))}),[E,U,A,S,w,t]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Update Profile"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:function(e){if(e.preventDefault(),s&&m){var t,c=new FormData;c.set("name",s),c.set("email",m),c.set("avatar",f),E((t=c,function(){var e=Object(u.a)(j.a.mark((function e(c){var a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:R}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,h.a.put("/api/v1/me/update",t,a);case 5:r=e.sent,s=r.data,c({type:D,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:I,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}},children:[Object(oe.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(oe.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:m,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(oe.jsxs)("div",{className:"d-flex align-items-center",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(oe.jsx)("img",{src:N,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(_(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(oe.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!T,children:"Update"})]})})})]})},pc=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(""),d=Object(b.a)(o,2),m=d[0],p=d[1],O=Object(l.d)(),x=Object(i.b)(),f=Object(i.c)((function(e){return e.user})),v=f.error,g=f.isUpdated,y=f.loading;Object(r.useEffect)((function(){v&&(O.error(v),x(le())),g&&(O.success("password updated successfully!"),t.push("/me"),x({type:T}))}),[x,g,v,O,t]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Change Password"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",s),c.set("newPassword",m),x((t=c,function(){var e=Object(u.a)(j.a.mark((function e(c){var a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:A}),a={headers:{"Content-Type":"application/json"}},e.next=5,h.a.put("/api/v1/password/update",t,a);case 5:r=e.sent,s=r.data,c({type:U,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:F,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"old_password_field",children:"Old Password"}),Object(oe.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"new_password_field",children:"New Password"}),Object(oe.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:m,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!y,children:"Update Password"})]})})})]})},Oc=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(l.d)(),n=Object(i.b)(),o=Object(i.c)((function(e){return e.forgotPassword})),d=o.loading,m=o.error,p=o.message;Object(r.useEffect)((function(){m&&(s.error(m),n(le())),p&&s.success(p)}),[n,s,m,p]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Forgot Password"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),n(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:k}),a={headers:{"Content-Type":"application/json"}},t.next=5,h.a.post("/api/v1/password/forgot",e,a);case 5:r=t.sent,s=r.data,c({type:L,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:W,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(oe.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!d,children:"Send Email"})]})})})]})},hc=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(b.a)(a,2),n=s[0],o=s[1],d=Object(r.useState)(""),m=Object(b.a)(d,2),p=m[0],O=m[1],x=Object(l.d)(),f=Object(i.b)(),v=Object(i.c)((function(e){return e.forgotPassword})),g=v.error,y=v.success;Object(r.useEffect)((function(){g&&(x.error(g),f(le())),y&&(x.success("Password updated successfully"),t.push("/login"))}),[f,x,g,y,t]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"New Password Reset"}),Object(oe.jsx)("div",{className:"row wrapper",children:Object(oe.jsx)("div",{className:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("password",n),r.set("confirmPassword",p),f((t=c.params.token,a=r,function(){var e=Object(u.a)(j.a.mark((function e(c){var r,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Q}),r={headers:{"Content-Type":"application/json"}},e.next=5,h.a.put("/api/v1/password/reset/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:V,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:$,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(oe.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(oe.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(oe.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},xc=function(){return Object(oe.jsx)("div",{className:"sidebar-wrapper",children:Object(oe.jsx)("nav",{id:"sidebar",children:Object(oe.jsxs)("ul",{className:"list-unstyled components",children:[Object(oe.jsx)("li",{children:Object(oe.jsxs)(m.b,{to:"/dashboard",children:[Object(oe.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(oe.jsxs)("li",{children:[Object(oe.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(oe.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(oe.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(oe.jsx)("li",{children:Object(oe.jsxs)(m.b,{to:"/admin/products",children:[Object(oe.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(m.b,{to:"/admin/product",children:[Object(oe.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(m.b,{to:"/admin/orders",children:[Object(oe.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(m.b,{to:"/admin/users",children:[Object(oe.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(oe.jsx)("li",{children:Object(oe.jsxs)(m.b,{to:"/admin/reviews",children:[Object(oe.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},fc=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.products})).products,c=Object(i.c)((function(e){return e.allUsers})).users,a=Object(i.c)((function(e){return e.allOrders})),s=a.orders,n=a.totalAmount,l=a.loading,o=0;return t.forEach((function(e){0===e.stock&&(o+=1)})),Object(r.useEffect)((function(){e(at()),e(cc()),e(ie())}),[e]),Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Admin Dashboard"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsxs)("div",{className:"col-12 col-md-10",children:[Object(oe.jsx)("h1",{className:"my-4",children:"Dashboard"}),l?Object(oe.jsx)(fe,{}):Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Admin Dashboard"}),Object(oe.jsx)("div",{className:"row pr-4",children:Object(oe.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(oe.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(oe.jsx)("br",{})," ",Object(oe.jsxs)("b",{children:["$",n&&n.toFixed(2)]})]})})})})}),Object(oe.jsxs)("div",{className:"row pr-4",children:[Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(oe.jsx)("br",{})," ",Object(oe.jsx)("b",{children:t&&t.length})]})}),Object(oe.jsxs)(m.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(oe.jsx)("span",{className:"float-left",children:"View Details"}),Object(oe.jsx)("span",{className:"float-right",children:Object(oe.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(oe.jsx)("br",{})," ",Object(oe.jsx)("b",{children:s&&s.length})]})}),Object(oe.jsxs)(m.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(oe.jsx)("span",{className:"float-left",children:"View Details"}),Object(oe.jsx)("span",{className:"float-right",children:Object(oe.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Users",Object(oe.jsx)("br",{})," ",Object(oe.jsx)("b",{children:c&&c.length})]})}),Object(oe.jsxs)(m.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(oe.jsx)("span",{className:"float-left",children:"View Details"}),Object(oe.jsx)("span",{className:"float-right",children:Object(oe.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(oe.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(oe.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(oe.jsx)("div",{className:"card-body",children:Object(oe.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(oe.jsx)("br",{})," ",Object(oe.jsx)("b",{children:o})]})})})})]})]})]})]})]})},vc=function(e){var t=e.history,c=Object(l.d)(),a=Object(i.b)(),s=Object(i.c)((function(e){return e.products})),n=s.loading,o=s.error,d=s.products,b=void 0===d?[]:d,p=Object(i.c)((function(e){return e.product})),O=p.error,x=p.isDeleted;Object(r.useEffect)((function(){a(at()),o&&(c.error(o),a(st())),O&&(c.error(O),a(st())),x&&(c.success("Product deleted successfully"),t.push("/admin/products"),a({type:Te}))}),[a,c,o,x,O,t]);var f=function(e){var t;a((t=e,function(){var e=Object(u.a)(j.a.mark((function e(c){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ae}),e.next=4,h.a.delete("/api/v1/admin/product/".concat(t));case 4:a=e.sent,r=a.data,c({type:Ue,payload:r.success}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:Fe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"All Products"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("h1",{className:"my-5",children:"All Products"}),n?Object(oe.jsx)(fe,{}):Object(oe.jsx)(ic.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return b.forEach((function(t){e.rows.push({id:t._id,name:t.name,price:"$".concat(t.price),stock:t.stock,actions:Object(oe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(oe.jsx)(m.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(oe.jsx)("i",{className:"fa fa-pencil"})}),Object(oe.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return f(t._id)},children:Object(oe.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},gc=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(0),d=Object(b.a)(o,2),m=d[0],p=d[1],O=Object(r.useState)(""),x=Object(b.a)(O,2),f=x[0],v=x[1],g=Object(r.useState)("Electronics"),y=Object(b.a)(g,2),N=y[0],_=y[1],S=Object(r.useState)(0),E=Object(b.a)(S,2),w=E[0],C=E[1],R=Object(r.useState)(""),D=Object(b.a)(R,2),P=D[0],I=D[1],A=Object(r.useState)([]),U=Object(b.a)(A,2),T=U[0],F=U[1],k=Object(r.useState)([]),L=Object(b.a)(k,2),W=L[0],Q=L[1],V=Object(l.d)(),$=Object(i.b)(),q=Object(i.c)((function(e){return e.newProduct})),M=q.loading,B=q.error,G=q.success;Object(r.useEffect)((function(){B&&(V.error(B),$(st())),G&&(t.push("/admin/products"),V.success("Product created "),$({type:Pe}))}),[$,V,B,G,t]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Create Product"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)(r.Fragment,{children:Object(oe.jsx)("div",{className:"wrapper my-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("price",m),c.set("description",f),c.set("category",N),c.set("stock",w),c.set("seller",P),T.forEach((function(e){c.append("images",e)})),$((t=c,function(){var e=Object(u.a)(j.a.mark((function e(c){var a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Re}),a={headers:{"Content-Type":"application/json"}},e.next=5,h.a.post("/api/v1/admin/product/new",t,a);case 5:r=e.sent,s=r.data,c({type:De,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Ie,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{className:"mb-4",children:"Create New Product"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(oe.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(oe.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:m,onChange:function(e){return p(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(oe.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(oe.jsx)("select",{className:"form-control",id:"category_field",value:N,onChange:function(e){return _(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(oe.jsx)("option",{value:e,children:e},e)}))})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(oe.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:w,onChange:function(e){return C(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(oe.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:P,onChange:function(e){return I(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{children:"Images"}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:function(e){var t=Array.from(e.target.files);Q([]),F([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(Q((function(e){return[].concat(Object(vt.a)(e),[t.result])})),F((function(e){return[].concat(Object(vt.a)(e),[t.result])})))},t.readAsDataURL(e)}))}}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),W.map((function(e){return Object(oe.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(oe.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!M,children:"CREATE"})]})})})})]})]})},yc=function(e){var t=e.match,c=e.history,a=Object(r.useState)(""),s=Object(b.a)(a,2),n=s[0],o=s[1],d=Object(r.useState)(0),m=Object(b.a)(d,2),p=m[0],O=m[1],x=Object(r.useState)(""),f=Object(b.a)(x,2),v=f[0],g=f[1],y=Object(r.useState)("Electronics"),N=Object(b.a)(y,2),_=N[0],S=N[1],E=Object(r.useState)(0),w=Object(b.a)(E,2),C=w[0],R=w[1],D=Object(r.useState)(""),P=Object(b.a)(D,2),I=P[0],A=P[1],U=Object(r.useState)([]),T=Object(b.a)(U,2),F=T[0],k=T[1],L=Object(r.useState)([]),W=Object(b.a)(L,2),Q=W[0],V=W[1],$=Object(r.useState)([]),q=Object(b.a)($,2),M=q[0],B=q[1],G=Object(l.d)(),H=Object(i.b)(),J=Object(i.c)((function(e){return e.productDetails})),Y=J.error,z=J.product,K=Object(i.c)((function(e){return e.product})),X=K.loading,Z=K.error,ee=K.isUpdated,te=t.params.id;Object(r.useEffect)((function(){z&&z._id!==te?H(ct(te)):(o(z.name),O(z.price),g(z.description),S(z.category),A(z.seller),R(z.stock),V(z.images)),Y&&(G.error(Y),H(st())),Z&&(G.error(Z),H(st())),ee&&(c.push("/admin/products"),G.success("Product updated successfully"),H({type:We}))}),[H,G,Y,Z,ee,c,z,te]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Update Product"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)(r.Fragment,{children:Object(oe.jsx)("div",{className:"wrapper my-5",children:Object(oe.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("name",n),t.set("price",p),t.set("description",v),t.set("category",_),t.set("stock",C),t.set("seller",I),F.forEach((function(e){t.append("images",e)})),H(function(e,t){return function(){var c=Object(u.a)(j.a.mark((function c(a){var r,s,n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:ke}),r={headers:{"Content-Type":"application/json"}},c.next=5,h.a.put("/api/v1/admin/product/".concat(e),t,r);case 5:s=c.sent,n=s.data,a({type:Le,payload:n.success}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:Qe,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(z._id,t))},children:[Object(oe.jsx)("h1",{className:"mb-4",children:"Create New Product"}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(oe.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(oe.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(oe.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(oe.jsx)("select",{className:"form-control",id:"category_field",value:_,onChange:function(e){return S(e.target.value)},children:["Electronics","Cameras","Laptops","Accessories","Headphones","Food","Books","Clothes/Shoes","Beauty/Health","Sports","Outdoor","Home"].map((function(e){return Object(oe.jsx)("option",{value:e,children:e},e)}))})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(oe.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(oe.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:I,onChange:function(e){return A(e.target.value)}})]}),Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{children:"Images"}),Object(oe.jsxs)("div",{className:"custom-file",children:[Object(oe.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:function(e){var t=Array.from(e.target.files);B([]),k([]),V([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(B((function(e){return[].concat(Object(vt.a)(e),[t.result])})),k((function(e){return[].concat(Object(vt.a)(e),[t.result])})))},t.readAsDataURL(e)}))}}),Object(oe.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),Q&&Q.map((function(e){return Object(oe.jsx)("img",{src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"},e.url+e.name)})),M.map((function(e){return Object(oe.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(oe.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!X,children:"UPDATE"})]})})})})]})]})},Nc=function(e){var t=e.history,c=Object(l.d)(),a=Object(i.b)(),s=Object(i.c)((function(e){return e.allOrders})),n=s.loading,o=s.error,d=s.orders,b=void 0===d?[]:d,p=Object(i.c)((function(e){return e.order})),O=p.error,x=p.isDeleted;Object(r.useEffect)((function(){a(cc()),o&&(c.error(o),a(ac())),O&&(c.error(O),a(ac())),x&&(c.success("Product deleted successfully"),t.push("/admin/orders"),a({type:Ft}))}),[a,c,o,x,O,t]);var f=function(e){var t;a((t=e,function(){var e=Object(u.a)(j.a.mark((function e(c){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Ut}),e.next=4,h.a.delete("/api/v1/admin/order/".concat(t));case 4:a=e.sent,r=a.data,c({type:Tt,payload:r.success}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:kt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"All Orders"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("h1",{className:"my-5",children:"All Orders"}),n?Object(oe.jsx)(fe,{}):Object(oe.jsx)(ic.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount  ",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return b.forEach((function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"$".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(oe.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(oe.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(oe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(oe.jsx)(m.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(oe.jsx)("i",{className:"fa fa-eye"})}),Object(oe.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return f(t._id)},children:Object(oe.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},_c=function(e){var t=e.match,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],n=a[1],o=Object(l.d)(),d=Object(i.b)(),p=Object(i.c)((function(e){return e.orderDetails})),O=p.loading,x=p.order,f=void 0===x?{}:x,v=f.shippingInfo,g=f.orderItems,y=f.paymentInfo,N=f.user,_=f.totalPrice,S=f.orderStatus,E=Object(i.c)((function(e){return e.order})),w=E.error,C=E.isUpdated,R=t.params.id;Object(r.useEffect)((function(){d(tc(R)),w&&(o.error(w),d(ac())),C&&(o.success("Order updated successfully"),d({type:It}))}),[d,o,w,C,R]);var D=function(e){var t=new FormData;t.set("status",s),d(function(e,t){return function(){var c=Object(u.a)(j.a.mark((function c(a){var r,s,n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Dt}),r={headers:{"Content-Type":"application/json"}},c.next=5,h.a.put("/api/v1/admin/order/".concat(e),t,r);case 5:s=c.sent,n=s.data,a({type:Pt,payload:n.success}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:At,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(e,t))},P=v&&"".concat(v.address,", ").concat(v.city,", ").concat(v.postalCode,", ").concat(v.country),I=!(!y||"succeeded"!==y.status);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Process Order # ".concat(R)}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)(r.Fragment,{children:O?Object(oe.jsx)(fe,{}):Object(oe.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(oe.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object(oe.jsxs)("h1",{className:"my-5",children:["Order # ",R]}),Object(oe.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Name:"})," ",N&&N.name]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Phone:"})," ",v&&v.phoneNo]}),Object(oe.jsxs)("p",{className:"mb-4",children:[Object(oe.jsx)("b",{children:"Address:"})," ",P]}),Object(oe.jsxs)("p",{children:[Object(oe.jsx)("b",{children:"Amount:"})," $",_]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{className:"my-4",children:"Payment"}),Object(oe.jsx)("p",{className:I?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:I?"PAID":"UNPAID"})}),Object(oe.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object(oe.jsx)("p",{className:"greenColor",children:Object(oe.jsx)("b",{children:y&&y.id})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(oe.jsx)("p",{className:S&&String(S).includes("Delivered")?"greenColor":"redColor",children:Object(oe.jsx)("b",{children:S})}),Object(oe.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{className:"cart-item my-1",children:g&&g.map((function(e){return Object(oe.jsxs)("div",{className:"row my-5",children:[Object(oe.jsx)("div",{className:"col-4 col-lg-2",children:Object(oe.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(oe.jsx)("div",{className:"col-5 col-lg-5",children:Object(oe.jsx)(m.b,{to:"/products/".concat(e.product),children:e.name})}),Object(oe.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:["$",e.price]})}),Object(oe.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(oe.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(oe.jsx)("hr",{})]}),Object(oe.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object(oe.jsx)("h4",{className:"my-4",children:"Status"}),Object(oe.jsx)("div",{className:"form-group",children:Object(oe.jsxs)("select",{className:"form-control",name:"status",value:s,onChange:function(e){return n(e.target.value)},children:[Object(oe.jsx)("option",{value:"Processing",children:"Processing"}),Object(oe.jsx)("option",{value:"Shipped",children:"Shipped"}),Object(oe.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),Object(oe.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return D(f._id)},children:"Update Status"})]})]})})})]})]})},Sc=function(e){var t=e.history,c=Object(l.d)(),a=Object(i.b)(),s=Object(i.c)((function(e){return e.allUsers})),n=s.loading,o=s.error,d=s.users,b=Object(i.c)((function(e){return e.user})).isDeleted;Object(r.useEffect)((function(){a(ie()),o&&(c.error(o),a(le())),b&&(c.success("User deleted successfully"),t.push("/admin/users"),a({type:te}))}),[a,t,c,o,b]);var p=function(e){a(function(e){return function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Z}),t.next=4,h.a.delete("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:ee,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:ce,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"All User"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("h1",{className:"my-5",children:"All Users"}),n?Object(oe.jsx)(fe,{}):Object(oe.jsx)(ic.c,{data:function(){var e={columns:[{label:"user ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Role",field:"role",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return d.forEach((function(t){e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,actions:Object(oe.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(oe.jsx)(m.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(oe.jsx)("i",{className:"fa fa-pencil"})}),Object(oe.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:p.bind(null,t._id),children:Object(oe.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},Ec=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(b.a)(a,2),n=s[0],o=s[1],d=Object(r.useState)(""),m=Object(b.a)(d,2),p=m[0],O=m[1],x=Object(r.useState)(""),f=Object(b.a)(x,2),v=f[0],g=f[1],y=Object(l.d)(),N=Object(i.b)(),_=Object(i.c)((function(e){return e.user})),S=_.error,E=_.isUpdated,w=Object(i.c)((function(e){return e.userDetails})).user,C=c.params.id;Object(r.useEffect)((function(){var e;console.log(w&&w._id!==C),w&&w._id!==C?N((e=C,function(){var t=Object(u.a)(j.a.mark((function t(c){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:G}),t.next=4,h.a.get("/api/v1/admin/user/".concat(e));case 4:a=t.sent,r=a.data,c({type:H,payload:r.user}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:J,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())):(o(w.name),O(w.email),g(w.role)),S&&(y.error(S),N(le())),E&&(y.success("User updated successfully!"),t.push("/admin/users"),N({type:K}))}),[N,y,S,t,E,C,w]);return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Update User"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsx)("div",{class:"row wrapper",children:Object(oe.jsx)("div",{class:"col-10 col-lg-5",children:Object(oe.jsxs)("form",{class:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",n),a.set("email",p),a.set("role",v),N((t=w._id,c=a,function(){var e=Object(u.a)(j.a.mark((function e(a){var r,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Y}),r={headers:{"Content-Type":"application/json"}},e.next=5,h.a.put("/api/v1/admin/user/".concat(t),c,r);case 5:s=e.sent,n=s.data,a({type:z,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:X,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(oe.jsx)("h1",{class:"mt-2 mb-5",children:"Update User"}),Object(oe.jsxs)("div",{class:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(oe.jsx)("input",{type:"name",id:"name_field",class:"form-control",name:"name",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(oe.jsxs)("div",{class:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(oe.jsx)("input",{type:"email",id:"email_field",class:"form-control",name:"email",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(oe.jsxs)("div",{class:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"role_field",children:"Role"}),Object(oe.jsxs)("select",{id:"role_field",class:"form-control",name:"role",value:v,onChange:function(e){return g(e.target.value)},children:[Object(oe.jsx)("option",{value:"user",children:"user"}),Object(oe.jsx)("option",{value:"admin",children:"admin"})]})]}),Object(oe.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Update"})]})})})})]})]})},wc=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],n=a[1],o=Object(l.d)(),d=Object(i.b)(),m=Object(i.c)((function(e){return e.productReviews})),p=m.error,O=m.reviews,x=Object(i.c)((function(e){return e.productsBrief})).productsBrief,f=Object(i.c)((function(e){return e.review})).isDeleted;Object(r.useEffect)((function(){p&&(o.error(p),d(st())),""!==s&&d(rt(s)),f&&(o.success("Review deleted successfully"),t.push("/admin/users"),d({type:Ze}))}),[d,o,t,p,f,s]),console.log(x);var v=function(e){d(function(e,t){return function(){var c=Object(u.a)(j.a.mark((function c(a){var r,s;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:Ke}),c.next=4,h.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));case 4:r=c.sent,s=r.data,a({type:Xe,payload:s.success}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),a({type:et,payload:c.t0.response.data.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(e,s))};return Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)(he,{title:"Product Reviews"}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-12 col-md-2",children:Object(oe.jsx)(xc,{})}),Object(oe.jsx)("div",{className:"col-12 col-md-10",children:Object(oe.jsxs)(r.Fragment,{children:[Object(oe.jsx)("div",{className:"row justify-content-center mt-5",children:Object(oe.jsx)("div",{className:"col-5",children:Object(oe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(rt(s))},children:[Object(oe.jsxs)("div",{className:"form-group",children:[Object(oe.jsx)("label",{htmlFor:"productId_field",children:"Enter Product ID"}),Object(oe.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(oe.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"SEARCH"})]})})}),O&&O.length>0?Object(oe.jsx)(ic.c,{data:function(){var e={columns:[{label:"review ID",field:"id",sort:"asc"},{label:"Rating",field:"rating",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Comment",field:"comment",sort:"asc"},{label:"User",field:"user",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return O.forEach((function(t){e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object(oe.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:v.bind(null,t._id),children:Object(oe.jsx)("i",{className:"fa fa-trash"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object(oe.jsx)("p",{className:"mt-5 text-center",children:"No Reviews."})]})})]})]})};c(155);var Cc=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(i.c)((function(e){return e.auth})),n=s.user,l=s.isAuthenticated,o=s.loading;function d(){return(d=Object(u.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,a(c.stripeApiKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Bt.dispatch(ne()),function(){d.apply(this,arguments)}()}),[]),Object(oe.jsx)(m.a,{children:Object(oe.jsxs)("div",{className:"App",children:[Object(oe.jsx)(je,{}),Object(oe.jsxs)("div",{className:"container container-fluid",children:[Object(oe.jsx)(p.b,{path:"/",exact:!0,component:it}),Object(oe.jsx)(p.b,{path:"/search/:keyword",component:it}),Object(oe.jsx)(p.b,{path:"/product/:id",exact:!0,component:Ot}),Object(oe.jsx)(p.b,{path:"/login",exact:!0,component:dc}),Object(oe.jsx)(p.b,{path:"/register",exact:!0,component:uc}),Object(oe.jsx)(p.b,{path:"/password/forgot",exact:!0,component:Oc}),Object(oe.jsx)(p.b,{path:"/password/reset/:token",exact:!0,component:hc}),Object(oe.jsx)(Jt,{path:"/cart",exact:!0,component:Yt}),Object(oe.jsx)(Jt,{path:"/shipping",exact:!0,component:Xt}),c&&Object(oe.jsx)(x.Elements,{stripe:Object(f.a)(c),children:Object(oe.jsx)(Jt,{path:"/payment",exact:!0,component:sc})}),Object(oe.jsx)(Jt,{path:"/confirm",exact:!0,component:Zt}),Object(oe.jsx)(Jt,{path:"/me",exact:!0,component:bc}),Object(oe.jsx)(Jt,{path:"/success",exact:!0,component:nc}),Object(oe.jsx)(Jt,{path:"/orders/me",exact:!0,component:lc}),Object(oe.jsx)(Jt,{path:"/order/:id",exact:!0,component:oc}),Object(oe.jsx)(Jt,{path:"/me/update",exact:!0,component:mc}),Object(oe.jsx)(Jt,{path:"/password/update",exact:!0,component:pc})]}),Object(oe.jsx)(Jt,{path:"/dashboard",exact:!0,isAdmin:!0,component:fc}),Object(oe.jsx)(Jt,{path:"/admin/products",exact:!0,isAdmin:!0,component:vc}),Object(oe.jsx)(Jt,{path:"/admin/product",exact:!0,isAdmin:!0,component:gc}),Object(oe.jsx)(Jt,{path:"/admin/product/:id",exact:!0,isAdmin:!0,component:yc}),Object(oe.jsx)(Jt,{path:"/admin/orders",exact:!0,isAdmin:!0,component:Nc}),Object(oe.jsx)(Jt,{path:"/admin/order/:id",exact:!0,isAdmin:!0,component:_c}),Object(oe.jsx)(Jt,{path:"/admin/users",exact:!0,isAdmin:!0,component:Sc}),Object(oe.jsx)(Jt,{path:"/admin/user/:id",exact:!0,isAdmin:!0,component:Ec}),Object(oe.jsx)(Jt,{path:"/admin/reviews",exact:!0,isAdmin:!0,component:wc}),!o&&(!l||"admin"!==n.role)&&Object(oe.jsx)(ue,{})]})})},Rc={timeout:5e3,position:l.b.BOTTOM_CENTER,transition:l.c.SCALE};n.a.render(Object(oe.jsx)(i.a,{store:Bt,children:Object(oe.jsx)(l.a,Object(a.a)(Object(a.a)({template:o.a},Rc),{},{children:Object(oe.jsx)(Cc,{})}))}),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.04c61fd4.chunk.js.map